"""Default migration message

Revision ID: 2c514cb21302
Revises: dc7f5eeebf97
Create Date: 2025-05-09 08:45:42.884523

"""

from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import postgresql

from sqlalchemy import Text
import app.db.types

# revision identifiers, used by Alembic.
revision: str = "2c514cb21302"
down_revision: Union[str, None] = "dc7f5eeebf97"
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    sa.Enum("neurolucida", "swc", "hdf5", name="assetlabel").create(op.get_bind())
    op.add_column(
        "asset",
        sa.Column(
            "label",
            postgresql.ENUM("neurolucida", "swc", "hdf5", name="assetlabel", create_type=False),
            nullable=True,
        ),
    )
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_column("asset", "label")
    sa.Enum("neurolucida", "swc", "hdf5", name="assetlabel").drop(op.get_bind())
    # ### end Alembic commands ###
